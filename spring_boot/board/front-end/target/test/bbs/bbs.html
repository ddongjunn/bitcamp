<!DOCTYPE html>
<html lang="en">
<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<table border="1">
    <colgroup>
        <col width="100"><col width="300"><col width="100"><col width="100">
    </colgroup>
    <thead>
    <tr>
        <th>게시물번호</th><th>제목</th><th>조회수</th><th>작성자</th>
    </tr>
    </thead>
    <tbody id="list_table">

    </tbody>
</table>
<div style="margin: auto">
    <select id="type">
        <option value="type">제목</option>
        <option value="content">내용</option>
        <option value="writer">작성자</option>
    </select>
    <input type="text" size="20" id="search">
    <input type="button" value="검색" id="searchBtn">
</div>

<script type="text/javascript">
    $(document).ready(function () {
        $.ajax({
            url: "http://localhost:3000/bbsList",
            type: "get",
            success: function (data) {
                if(data == ""){
                    let str = "<tr><th colspan='4'>작성된 글이 없습니다.</th></tr>"
                    $('#list_table').append(str);
                    return;
                }

                let str = "<tr>";
                $.each(data, function (index, item) {
                    str += "<td>" + item.seq + "</td>";
                    str += "<td><a href='bbsDetail.html?seq="+ item.seq +"&id="+ item.id +"'>" + item.title + "</a></td>"
                    str += "<td>" + item.readcount + "</td>";
                    str += "<td>" + item.id + "</td>";
                    str += "</tr>"
                });
                $('#list_table').append(str);

            },
            error: function () {
                alert('error');
            }
        })
    });

</script>
</body>
</html>

